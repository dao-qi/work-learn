# 操作符

2020 年 4 月 20 日 11:49:27

---

> 一些常识就不再记录,主要记录一下容易出错的地方,个人认为比较重要的地方.

## 自增和自减

全名应该叫做自动递增/递减,而不是自己递增/递减.
注意前缀式和后缀式的区别.前缀式先计算,后生成值;后缀式先生成值再计算.

## 比较相等

1. `==`可适用于所有对象,但是其比较的是引用是否相同.对象内容的比较应该使用 equals 方法.
2. 自己写的类应该重写 equals 方法,否则默认比较的还是引用.

## 指数计数法

做练习题的时候发现

```java
 * float min:1.4E-45
 * float max:3.4028235E38
 * double min:4.9E-324
 * double max:4.9E-324
```

这里的 min 和 max 说的是精度的最大最小,而不是表示数值的最大最小.

> -- -max -- -min -- 0 -- +min -- +max --

这里的 min 和 max 就是指的上图的 min 和 max.浮点型有单独的符号位表示符号.

## 移位运算

1. 左移时统一补 0
2. 右移时,正数补 0,负数补 1.
   无符号右移运算`>>>`,无论正负,高位统一插 0.

## 类型转换

1. 窄化转换:将能容纳更多信息的类型转化成容量更小的类型,java 会要求程序员显示转换.
2. 扩展转换

> java 允许将任何基本数据类型转化成其他类型,除了 boolean(布尔类型不允许进行任何类型的转化处理),窄化转换的时候有可能发生数据丢失.
> `类`类型不允许进行类型转换.除了所属类族之间的转换.

在窄化转换时,总是执行截尾,如果需要四舍五入,可以使用 Math 中的 round 方法.

char,byte,short 的计算结果最少都是 int,想要变为原来类型需要类型转换.可能发生截断.

## 字符串操作符

java 无法进行自己的操作符重载.

字符串比较是否相等:

```java
String a="hello world";
String b="hello world";
String c=new String("hello world");
a==b//true
a==c//false
a=="hello world";//true
c=="hello world";//false
```

从上面代码中可以看出,字符串字面量是不同于字符串对象的.字符串字面量存储在常量区,相同的字面量只存储一次,所以a,b就是指向的常量区的同一个字符串.new String()创建的对象在堆,c指向的是堆中的一个对象.
